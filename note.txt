# Docker
docker image build -t bitouflask .
docker run -p 5000:5000 bitouflask

# navigate to http://172.17.0.2:5000/

## other docker commands ##
# see what images are running/installed
docker ps -a

# delete
docker rm HASH

# stop
docker stop HASH


# setup a conda env with python 3.8
conda create -n hawkweed_inference python=3.8.0
conda activate hawkweed_inference

# check using env binaries
python --version
which pip
pip install -r requirements.txt 

# download the required data files to setup the repo

# save to ./src/csuinf/
wget https://raw.githubusercontent.com/NicoMandel/bitou_segmentation/main/src/csupl/utils.py .
wget https://raw.githubusercontent.com/NicoMandel/bitou_segmentation/main/src/csupl/model.py .

# save to ./config/
20043  wget https://raw.githubusercontent.com/NicoMandel/bitou_segmentation/main/config/colour_code.json

# save to ./
wget  https://cloudstor.aarnet.edu.au/plus/s/dojRidMLnrHK8nV/download best.pt
# downloaded as 'download' so rename
mv download best.pt

# run the app
python app.py

# navigate too (note I change the port from 5000 to 5001 in app.py
http://127.0.0.1:5001/infer
